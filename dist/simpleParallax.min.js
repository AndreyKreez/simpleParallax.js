/*!
 * simpleParallax.min - simpleParallax is a simple and lightweight JS plugin that gives your website parallax animations on images, 
 * @date: 19-05-2019 17:2:9, 
 * @version: 5.0.0alpha,
 * @link: https://simpleparallax.com/
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("simpleParallax",[],t):"object"==typeof exports?exports.simpleParallax=t():e.simpleParallax=t()}(window,function(){return i={},o.m=n=[function(e,t,n){"use strict";n.r(t);n(1),n(2);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.positions={top:0,bottom:0,height:0}}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"setViewportTop",value:function(){return this.positions.top=window.pageYOffset,this.positions}},{key:"setViewportBottom",value:function(){return this.positions.bottom=this.positions.top+this.positions.height,this.positions}},{key:"setViewportHeight",value:function(){return this.positions.height=document.documentElement.clientHeight,this.positions}},{key:"setViewportAll",value:function(){return this.positions.top=window.pageYOffset,this.positions.bottom=this.positions.top+this.positions.height,this.positions.height=document.documentElement.clientHeight,this.positions}}]),e}(),s=function(){for(var e,t="transform webkitTransform mozTransform oTransform msTransform".split(" "),n=0;void 0===e;)e=void 0!==document.createElement("div").style[t[n]]?t[n]:void 0,n++;return e}(),r=function(e){return!!e&&(!!e.complete&&(void 0===e.naturalWidth||0!==e.naturalWidth))};function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.element=e,this.elementContainer=e,this.settings=t,this.isVisible=!0,this.oldTranslateValue=-1,this.init=this.init.bind(this),r(e)?this.init():this.element.addEventListener("load",this.init)}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(n,[{key:"init",value:function(){!1===this.settings.overflow&&this.wrapElement(this.element),this.setStyle(),this.getElementOffset(),this.intersectionObserver(),this.getTranslateValue(),this.animate()}},{key:"wrapElement",value:function(){var e=this.element.closest("picture")||this.element,t=document.createElement("div");t.classList.add("simpleParallax"),t.style.overflow="hidden",e.parentNode.insertBefore(t,e),t.appendChild(e),this.elementContainer=t}},{key:"unWrapElement",value:function(){var e=this.elementContainer;e.replaceWith.apply(e,a(e.childNodes))}},{key:"setStyle",value:function(){!1===this.settings.overflow&&(this.element.style[s]="scale("+this.settings.scale+")"),0<this.settings.delay&&(this.element.style.transition="transform "+this.settings.delay+"s "+this.settings.transition),this.element.style.willChange="transform"}},{key:"unSetStyle",value:function(){this.element.style.willChange="",this.element.style[s]="",this.element.style.transition=""}},{key:"getElementOffset",value:function(){var e=this.elementContainer.getBoundingClientRect();this.elementHeight=e.height,this.elementTop=e.top+f.positions.top}},{key:"buildThresholdList",value:function(){for(var e=[],t=1;t<=this.elementHeight;t++){var n=t/this.elementHeight;e.push(n)}return e}},{key:"intersectionObserver",value:function(){var e={root:null,threshold:this.buildThresholdList()};this.observer=new IntersectionObserver(this.intersectionObserverCallback.bind(this),e),this.observer.observe(this.element)}},{key:"intersectionObserverCallback",value:function(e){for(var t=e.length-1;0<=t;t--)e[t].isIntersecting?this.isVisible=!0:this.isVisible=!1}},{key:"getRangeMax",value:function(){var e=this.element.clientHeight;this.rangeMax=e*this.settings.scale-e,"down"!==this.settings.orientation&&"right"!==this.settings.orientation||(this.rangeMax*=-1)}},{key:"getTranslateValue",value:function(){var e=((f.positions.bottom-this.elementTop)/((f.positions.height+this.elementHeight)/100)).toFixed(1);return e=Math.min(100,Math.max(0,e)),this.oldPercentage!==e&&(this.rangeMax||this.getRangeMax(),this.translateValue=(e/100*this.rangeMax-this.rangeMax/2).toFixed(0),this.oldTranslateValue!==this.translateValue&&(this.oldPercentage=e,this.oldTranslateValue=this.translateValue,!0))}},{key:"animate",value:function(){var e,t=0,n=0;"left"===this.settings.orientation||"right"===this.settings.orientation?n=this.translateValue+"px":t=this.translateValue+"px",e=!1===this.settings.overflow?"translate3d("+n+", "+t+", 0) scale("+this.settings.scale+")":"translate3d("+n+", "+t+", 0)",this.element.style[s]=e}}]),n}();function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"viewport",function(){return f}),n.d(t,"default",function(){return v});var c,m,f=new o,p=!1,d=[],v=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.elements=void 0!==e&&NodeList.prototype.isPrototypeOf(e)?e:[e],this.defaults={delay:.6,orientation:"up",scale:1.3,overflow:!1,transition:"cubic-bezier(0,0,0,1)",breakpoint:!1},this.settings=Object.assign(this.defaults,t),this.settings.breakpoint&&document.documentElement.clientWidth<=this.settings.breakpoint||(this.lastPosition=-1,this.handleResize=this.handleResize.bind(this),this.proceedRequestAnimationFrame=this.proceedRequestAnimationFrame.bind(this),this.init())}return function(e,t,n){t&&h(e.prototype,t),n&&h(e,n)}(n,[{key:"init",value:function(){f.setViewportAll();for(var e=this.elements.length-1;0<=e;e--){var t=new u(this.elements[e],this.settings);d.push(t)}c=d.length,p||(this.proceedRequestAnimationFrame(),window.addEventListener("resize",this.handleResize),p=!0)}},{key:"handleResize",value:function(){f.setViewportAll(),this.settings.breakpoint&&document.documentElement.clientWidth<=this.settings.breakpoint&&this.destroy();for(var e=c-1;0<=e;e--)d[e].getElementOffset(),d[e].getRangeMax()}},{key:"proceedRequestAnimationFrame",value:function(){if(f.setViewportTop(),this.lastPosition!==f.positions.top){f.setViewportBottom();for(var e=c-1;0<=e;e--)this.proceedElement(d[e]);m=window.requestAnimationFrame(this.proceedRequestAnimationFrame),this.lastPosition=f.positions.top}else m=window.requestAnimationFrame(this.proceedRequestAnimationFrame)}},{key:"proceedElement",value:function(e){e.isVisible&&e.getTranslateValue()&&e.animate()}},{key:"destroy",value:function(){for(var e=c-1;0<=e;e--)d[e].unSetStyle(),!1===this.settings.overflow&&d[e].unWrapElement();window.cancelAnimationFrame(m),window.removeEventListener("resize",this.handleResize)}}]),n}()},function(e,t){!function(){for(var s=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-s)),o=window.setTimeout(function(){e(n+i)},i);return s=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})}],o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0);function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,i});